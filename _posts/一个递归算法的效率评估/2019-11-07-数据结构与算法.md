--- 
layout: post 
title: 数据结构与算法 
author: itsxun 
date: 2019-11-07 17:40:16 +08:00  
catalog: true 
tags: 
    - 一个递归算法的效率评估 
--- 

> 代码本体

```java
public long test(long a){
    if(a<=1){
        return 0;
    }else{
        return test(a-1) + test(a-2);
    }
}
```

这就是个递归算法，假设每一行代码的执行我们计量为一个时间单位，那么：


当N<=1时，消耗时间单位为2，一个if语句判断，一个return 0 操作。
当N>1时，test(a-1)会消耗a-1个时间单位，test(a-2)会消耗a-2个时间单位，加上当N=1时的2个时间单位，时间消耗总共就是：
T(n) = T(n-1) + T(n-2) + 2

对于这个时间消耗，不等式T(n) > (3/2)^n成立的：

证明：

```
T(n) > (3/2) ^ (n-1) + (3/2) ^ (n-2) + 2
     > (2/3) * (3/2)^n + (4/9) * (3/2)^n + 2
     > (10/9) * (3/2)^n + 2 
```

所以能看到，这个算法的时间消耗总体上会呈指数上升，算法本身会有很大的性能问题。

问题主要出在，每次test(a-1)的结果并不能被test(a-2)利用上，导致test(a-2)后面又需要计算一次。
    对于每一项，都存在这样的问题。  